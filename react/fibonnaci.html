<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>React Counter</title>

    <script src="../lib/react.js"></script>
    <script src="../lib/react-dom.js"></script>
    <script src="../lib/babel.min.js"></script>

    <link rel="stylesheet" href="../css/styles.css">
</head>

<body>

<div id="app"></div>

<script type="text/babel">
    var Counter = React.createClass({
        getInitialState() {
            return {
                previous_fib: 0,
                current_fib: 1,
                title: 'Fibonacci Counter'
            };
        },
        increment_fibonacci() {
            const {current_fib, previous_fib} = this.state;
            this.setState({
                previous_fib: current_fib,
                current_fib: current_fib + previous_fib
            });
        },
        render() {
            const {title, current_fib} = this.state;
            return (
                    <div>
                        <h1 className="app-title">{ title }</h1>
                        <div className="app-current-count">
                            { current_fib }
                        </div>
                        <div className="app-fibonacci-buttons">
                            <button type="button" name="increment"
                                    onClick={this.increment_fibonacci}>NEXT</button>
                        </div>
                    </div>
            );
        }
    });

    ReactDOM.render(<Counter />, document.getElementById('app'));

</script>

</body>
</html>
